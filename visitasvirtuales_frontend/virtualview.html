<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisitaDAVANTE</title>
    <link rel="stylesheet" href="/visitasvirtuales_frontend/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/0a4e7dfe84.js" crossorigin="anonymous"></script>
</head>
<body>

    <!-- Encabezado -->
    <header id="unityHeaderOculto">

    <div class="logo">
    <a href="/visitasvirtuales_frontend/index.html" class="logo-link">
    <img src="/visitasvirtuales_frontend/images/dav_white.png" alt="Logo DAVANTE" class="logo-img">
    <span id="titulo">VisitaDAVANTE</span></a>
    </div>
        <div class="container__menu">
            <div class="menu">
        <nav>
            <ul>
            <li><a href="/visitasvirtuales_frontend/index.html">Inicio</a></li>
            <li><a href="/visitasvirtuales_frontend/centros.html">Nuestros Centros</a></li>
            <li><a href="#">Sobre Nosotros</a></li>
            <li><a href="#">Contacto</a></li>
            </ul>
        </nav>
        </div>
        <div class="botones-header">
        <div class="dropdown">
  <button class="boton2">Iniciar sesi√≥n</button>
  <div class="dropdown-content">
    <form>
      <input type="text" placeholder="Usuario">
      <input type="password" placeholder="Contrase√±a">
      <a href="#" class="forget-pass">He olvidado mi contrase√±a</a>
      <button type="submit">Entrar</button>
    </form>
  </div>
</div>
        <a href="/visitasvirtuales_frontend/registerForm.html" class="boton">Registrarse</a>
        </div>
</div>
    </header>

    <script>
  document.addEventListener("DOMContentLoaded", function () {
    const header = document.getElementById("unityHeaderOculto");
    const toggle = document.getElementById("mostrarHeader");

    toggle.addEventListener("click", function () {
      header.classList.toggle("visible");

      if (header.classList.contains("visible")) {
        header.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
</script>



    <body onload="start()">
    <div id="contenedorUnity">
        
    <!-- Contenedor WebGL -->
    <div id="webgl-container">

    <!-- Animaci√≥n de carga -->
    <div id="logo-cargando">
        <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.1/dist/dotlottie-wc.js" type="module"></script>
        <dotlottie-wc src="https://lottie.host/ce504203-79c2-4966-9d3b-f18fb66eed2a/FLphjLsgql.lottie" autoplay loop>
        </dotlottie-wc>
    </div>

    <!-- Mensaje si no hay WebGL -->
    <div id="no-webgl-message" class="no-webgl-message">
        El navegador no soporta WebGL. Haga click
        <a href="https://get.webgl.org/" target="_blank" rel="noopener noreferrer">aqu√≠</a> para redireccionar.
        <p></p>
        <img src="/visitasvirtuales_frontend/images/Davante_logotipo_navy.png" alt="Logo_DAVANTE_navy" id="logo-dav-loading">
    </div>


        <canvas id="virtual-view"></canvas>
            <button id="fullscreen-btn" class="fullscreen-btn" title="Pantalla completa">
              <i class="fa-solid fa-expand"></i>
            </button>
            </div>

        <!-- Unity loader -->
        <script src="Proyecto360/connectwebgl/Build/WebGL_Builds.loader.js"></script>
        <script>
         function initWebGL(canvas) {
            let gl = null;
            try {
              gl = canvas.getContext("webgl2") || canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
            } catch (e) {
              console.warn("Error al intentar obtener el contexto WebGL:", e);
            }
            return gl;
          }

          function start() {
            const canvas = document.querySelector("#virtual-view");

            if (!initWebGL(canvas)) {
              document.getElementById("no-webgl-message").style.display = "block";
              document.getElementById("logo-cargando").style.display = "none";
              return;
            }

            createUnityInstance(canvas, {
              dataUrl: "Proyecto360/connectwebgl/Build/WebGL_Builds.data",
              frameworkUrl: "Proyecto360/connectwebgl/Build/WebGL_Builds.framework.js",
              codeUrl: "Proyecto360/connectwebgl/Build/WebGL_Builds.wasm",
              streamingAssetsUrl: "Proyecto360/Build360/StreamingAssets",
              productVersion: "1.0",
            }).then((unityInstance) => {
              console.log("‚úÖ Unity cargado con √©xito");

              document.getElementById("logo-cargando").style.display = "none";
              canvas.style.opacity = "1";
              canvas.style.pointerEvents = "auto";

              // üîπ Activar bot√≥n pantalla completa
              const fsButton = document.getElementById("fullscreen-btn");
              const icon = fsButton.querySelector("i");

              fsButton.addEventListener("click", () => {
                const isFullscreen = document.fullscreenElement || document.webkitFullscreenElement;
                if (!isFullscreen) {
                  unityInstance.SetFullscreen(1);
                  icon.classList.replace("fa-expand", "fa-compress");
                } else {
                  document.exitFullscreen();
                  icon.classList.replace("fa-compress", "fa-expand");
                }
            });

            // Escuchar cuando se sale del fullscreen manualmente
            document.addEventListener("fullscreenchange", () => {
              if (!document.fullscreenElement) {
                icon.classList.replace("fa-compress", "fa-expand");
              }
            });

          }).catch((message) => {
            console.error("‚ùå Error al cargar Unity:", message);
            document.getElementById("logo-cargando").style.display = "none";
            alert("Error al cargar el visor. Intente recargar la p√°gina.");
          });
        }
        </script>
    </div>

</body>

                <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">

            <!-- Columna 1 -->
            <div class="footer-col">
                <h2 class="logo-footer">VisitaDAVANTE</h2>
                <p>Descubre nuestro cat√°logo de Grados Medios y Grados Superiores 100% oficiales con m√°s de 50 titulaciones, con una alta inserci√≥n laboral y pr√°cticas garantizadas.</p>
                <div class="social-icons">
                    <span class="fa-brands fa-square-facebook fa-2xl"></span>
                    <span class="fa-brands fa-square-x-twitter fa-2xl"></span>
                    <span class="fa-brands fa-instagram fa-2xl"></span>
                    <span class="fa-solid fa-envelope fa-2xl"></span>
                </div>
            </div>

            <!-- Columna 2 -->
            <div class="footer-col">
                <h3>Navegaci√≥n</h3>
                <ul>
                    <li><a href="/visitasvirtuales_frontend/index.html">Inicio</a></li>
                    <li><a href="/visitasvirtuales_frontend/virtualview.html">Tour virtual</a></li>
                    <li><a href="/visitasvirtuales_frontend/centros.html">Nuestros centros</a></li>
                    <li><a href="#">Sobre Nosotros</a></li>
                </ul>
            </div>

            <!-- Columna 3 -->
            <div class="footer-col">
                <h3>Servicios</h3>
                <ul>
                    <li><a href="#">Tours Virtuales 360¬∞</a></li>
                    <li><a href="#">Visitas Presenciales</a></li>
                    <li><a href="#">Solicitar informaci√≥n</a></li>
                </ul>
            </div>

            <!-- Columna 4 -->
            <div class="footer-col">
                <h3>Contacto</h3>
                <p>üìû +34 900 060 113</p>
                <p>‚úâÔ∏è info@davante.es</p>
                <p>üìç Calle Pacifico, 66 <br>29004 M√°laga, Espa√±a</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>¬© 2025 VisitaDAVANTE. Todos los derechos reservados.</p>
            <div class="links">
                <a href="#">Pol√≠tica de Privacidad</a>
                <a href="#">T√©rminos de Uso</a>
                <a href="#">Cookies</a>
                <a href="#">Cr√©ditos</a>
            </div>
        </div>
    </footer>
   <script src="/visitasvirtuales_frontend/js/side-menu.js"></script>
</body>
</html>

